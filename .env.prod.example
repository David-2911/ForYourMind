# ====================================
# PRODUCTION ENVIRONMENT TEMPLATE
# ====================================
# Copy this to .env.prod and fill in values
# NEVER commit .env.prod to version control!

# ============================================================
# POSTGRESQL DATABASE
# ============================================================

# PostgreSQL credentials for production
POSTGRES_USER=mindfulme
POSTGRES_PASSWORD=CHANGE_ME_STRONG_PASSWORD_32_CHARS_MIN
POSTGRES_DB=mindfulme_prod

# Database connection URL (auto-constructed or from provider)
DATABASE_URL=postgresql://mindfulme:PASSWORD@host:5432/mindfulme_prod?sslmode=require

# ============================================================
# BACKEND CONFIGURATION
# ============================================================

# Environment
NODE_ENV=production

# Server
PORT=5000

# Authentication (REQUIRED - generate secure secrets)
# Generate with: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
JWT_SECRET=GENERATE_32_BYTE_HEX_SECRET_HERE
COOKIE_SECRET=GENERATE_32_BYTE_HEX_SECRET_HERE

# Token expiration
ACCESS_TOKEN_TTL=15m
REFRESH_TOKEN_TTL=7d

# CORS (UPDATE with your actual frontend URL)
CORS_ORIGIN=https://yourdomain.com

# Logging
LOG_LEVEL=error
LOG_SQL_QUERIES=false

# Database
USE_SQLITE=false

# Request limits
MAX_REQUEST_SIZE=10mb

# ============================================================
# FRONTEND CONFIGURATION
# ============================================================

# API URL (UPDATE with your actual backend URL)
VITE_API_URL=https://api.yourdomain.com

# Environment
VITE_NODE_ENV=production

# App version
VITE_APP_VERSION=1.0.0

# ============================================================
# EMAIL (Optional but recommended)
# ============================================================

# SMTP Configuration for production emails
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=your-email@gmail.com
SMTP_PASS=your-app-password
SMTP_FROM=noreply@yourdomain.com

# ============================================================
# MONITORING & ANALYTICS (Optional)
# ============================================================

# Sentry for error tracking
SENTRY_DSN=https://xxx@xxx.ingest.sentry.io/xxx
VITE_SENTRY_DSN=https://yyy@yyy.ingest.sentry.io/yyy

# Google Analytics
VITE_GA_TRACKING_ID=G-XXXXXXXXXX

# Performance monitoring
ENABLE_PERFORMANCE_MONITORING=true

# ============================================================
# EXTERNAL SERVICES (Optional)
# ============================================================

# Redis for caching/sessions
REDIS_URL=redis://default:password@redis-host:6379

# AWS S3 for file uploads
AWS_ACCESS_KEY_ID=AKIAIOSFODNN7EXAMPLE
AWS_SECRET_ACCESS_KEY=wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
AWS_S3_BUCKET=mindfulme-uploads-prod
AWS_REGION=us-east-1

# Stripe for payments
STRIPE_SECRET_KEY=sk_live_xxxxxxxxxxxxx
VITE_STRIPE_PUBLIC_KEY=pk_live_xxxxxxxxxxxxx

# ============================================================
# FEATURE FLAGS
# ============================================================

# Disable auth (NEVER set to true in production!)
DISABLE_AUTH=false

# ============================================================
# NOTES
# ============================================================
# 
# 1. SECRET GENERATION:
#    node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
#    openssl rand -hex 32
#    openssl rand -base64 32
#
# 2. MINIMUM REQUIREMENTS:
#    - JWT_SECRET (32+ characters)
#    - COOKIE_SECRET (32+ characters)
#    - DATABASE_URL (with ?sslmode=require)
#    - CORS_ORIGIN (actual frontend URL)
#    - VITE_API_URL (actual backend URL)
#
# 3. SECURITY CHECKLIST:
#    - Use strong, unique secrets
#    - Enable SSL/TLS (sslmode=require)
#    - Set correct CORS origin
#    - Use LOG_LEVEL=error in production
#    - Never log SQL queries in production
#    - Disable debug features
#
# 4. DEPLOYMENT PLATFORMS:
#    - Render: Set in service environment variables
#    - Vercel: Set in project settings
#    - Docker: Pass via docker-compose or --env-file
#    - Fly.io: Use flyctl secrets set
#
# ============================================================
