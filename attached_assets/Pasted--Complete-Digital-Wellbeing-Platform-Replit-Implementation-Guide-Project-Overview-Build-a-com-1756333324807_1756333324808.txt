# Complete Digital Wellbeing Platform - Replit Implementation Guide

## Project Overview
Build a comprehensive digital wellbeing PWA that serves both organizations (employers/managers) and individuals, featuring mental health services, learning modules, self-help tools, community support, and manager analytics - all with a beautiful, serene, and calming UI.

## Core Technical Stack (Optimized for Replit Free Tier)
```
Frontend: React + Vite (faster than Next.js on Replit)
Backend: Express.js with TypeScript
Database: SQLite (file-based, perfect for Replit)
Styling: Tailwind CSS with custom serene theme
Storage: Local file system for media (Replit constraints)
Authentication: JWT with refresh tokens
PWA: Service workers for offline capability
```

## UI/UX Design Requirements

### Visual Theme - "Serene Wellness"
- **Color Palette**: 
  - Primary: Soft lavender (#E6E6FA) and sage green (#87CEEB)
  - Secondary: Warm coral (#FFB6C1) and gentle gold (#FFD700)
  - Neutrals: Cream whites (#FAFAFA), soft grays (#F5F5F5)
  - Accents: Deep teal (#008B8B) for CTAs
- **Typography**: Inter for headers, Open Sans for body
- **Animations**: Subtle fade-ins, smooth transitions (300ms)
- **Icons**: Lucide React icons with rounded style
- **Components**: Rounded corners (8-16px), soft shadows, glassmorphism effects
- **Imagery**: Abstract nature patterns, calming gradients

### Key UI Components to Implement
```css
/* Global serene theme */
- Breathing animation on landing page
- Floating particles background (CSS only)
- Smooth page transitions with fade effects
- Micro-interactions on all buttons (scale on hover)
- Progress rings for wellbeing metrics
- Animated mood selector with emojis
- Glassmorphic cards for content sections
- Parallax scrolling on landing page
```

## Database Schema (SQLite Optimized)

```sql
-- Core Tables
CREATE TABLE users (
  id INTEGER PRIMARY KEY,
  email TEXT UNIQUE,
  password_hash TEXT,
  role TEXT CHECK(role IN ('individual', 'manager', 'admin')),
  display_name TEXT,
  avatar_url TEXT,
  timezone TEXT,
  preferences JSON,
  created_at DATETIME DEFAULT CURRENT_TIMESTAMP
);

CREATE TABLE organizations (
  id INTEGER PRIMARY KEY,
  name TEXT,
  admin_user_id INTEGER,
  settings JSON,
  wellness_score REAL,
  created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
  FOREIGN KEY (admin_user_id) REFERENCES users(id)
);

CREATE TABLE employees (
  id INTEGER PRIMARY KEY,
  user_id INTEGER,
  org_id INTEGER,
  job_title TEXT,
  department TEXT,
  anonymized_id TEXT UNIQUE,
  wellness_streak INTEGER DEFAULT 0,
  FOREIGN KEY (user_id) REFERENCES users(id),
  FOREIGN KEY (org_id) REFERENCES organizations(id)
);

CREATE TABLE journals (
  id INTEGER PRIMARY KEY,
  user_id INTEGER,
  mood_score INTEGER CHECK(mood_score BETWEEN 1 AND 10),
  content TEXT,
  tags JSON,
  is_private BOOLEAN DEFAULT 1,
  created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
  FOREIGN KEY (user_id) REFERENCES users(id)
);

CREATE TABLE anonymous_rants (
  id INTEGER PRIMARY KEY,
  anonymous_token TEXT,
  content TEXT,
  sentiment_score REAL,
  flags INTEGER DEFAULT 0,
  created_at DATETIME DEFAULT CURRENT_TIMESTAMP
);

CREATE TABLE therapists (
  id INTEGER PRIMARY KEY,
  name TEXT,
  specialization TEXT,
  license_number TEXT,
  profile_url TEXT,
  rating REAL,
  availability JSON
);

CREATE TABLE appointments (
  id INTEGER PRIMARY KEY,
  therapist_id INTEGER,
  user_id INTEGER,
  start_time DATETIME,
  end_time DATETIME,
  status TEXT CHECK(status IN ('pending', 'confirmed', 'completed', 'cancelled')),
  notes TEXT,
  FOREIGN KEY (therapist_id) REFERENCES therapists(id),
  FOREIGN KEY (user_id) REFERENCES users(id)
);

CREATE TABLE courses (
  id INTEGER PRIMARY KEY,
  title TEXT,
  description TEXT,
  duration_minutes INTEGER,
  difficulty TEXT,
  thumbnail_url TEXT,
  modules JSON
);

CREATE TABLE buddy_matches (
  id INTEGER PRIMARY KEY,
  user_a_id INTEGER,
  user_b_id INTEGER,
  compatibility_score REAL,
  status TEXT CHECK(status IN ('pending', 'accepted', 'declined')),
  created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
  FOREIGN KEY (user_a_id) REFERENCES users(id),
  FOREIGN KEY (user_b_id) REFERENCES users(id)
);

CREATE TABLE wellbeing_surveys (
  id INTEGER PRIMARY KEY,
  org_id INTEGER,
  title TEXT,
  questions JSON,
  is_active BOOLEAN DEFAULT 1,
  created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
  FOREIGN KEY (org_id) REFERENCES organizations(id)
);

CREATE TABLE survey_responses (
  id INTEGER PRIMARY KEY,
  survey_id INTEGER,
  anonymous_token TEXT,
  responses JSON,
  wellness_score REAL,
  created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
  FOREIGN KEY (survey_id) REFERENCES wellbeing_surveys(id)
);
```

## File Structure (Replit Optimized)
```
/
├── client/
│   ├── src/
│   │   ├── components/
│   │   │   ├── common/
│   │   │   │   ├── SereneHeader.tsx
│   │   │   │   ├── GlassmorphicCard.tsx
│   │   │   │   ├── BreathingCircle.tsx
│   │   │   │   ├── MoodSelector.tsx
│   │   │   │   └── FloatingParticles.tsx
│   │   │   ├── dashboard/
│   │   │   │   ├── WellbeingMetrics.tsx
│   │   │   │   ├── StreakTracker.tsx
│   │   │   │   └── QuickActions.tsx
│   │   │   ├── journal/
│   │   │   │   ├── JournalEditor.tsx
│   │   │   │   └── MoodTracker.tsx
│   │   │   ├── community/
│   │   │   │   ├── AnonymousRantSpace.tsx
│   │   │   │   └── BuddyMatcher.tsx
│   │   │   └── manager/
│   │   │       ├── TeamWellbeingDashboard.tsx
│   │   │       └── SurveyBuilder.tsx
│   │   ├── pages/
│   │   ├── hooks/
│   │   ├── utils/
│   │   └── styles/
│   │       └── serene-theme.css
│   ├── public/
│   └── index.html
├── server/
│   ├── src/
│   │   ├── routes/
│   │   ├── controllers/
│   │   ├── services/
│   │   ├── middleware/
│   │   └── database/
│   └── index.ts
├── shared/
│   └── types/
└── package.json
```

## MVP Feature Implementation (Ideas Festival Demo)

### 1. Landing Page with Serene Animation
```tsx
// Beautiful landing with breathing animation
- Hero section with animated gradient background
- Breathing circle animation (CSS keyframes)
- Floating wellness icons
- Smooth scroll to features
- Glass-morphic signup card
- Testimonial carousel with fade transitions
```

### 2. Authentication Flow
```tsx
// Two-role system with beautiful forms
- Animated form transitions
- Real-time validation with gentle error messages
- OAuth buttons with hover effects
- Role selection with animated cards
- Welcome animation after signup
```

### 3. Individual Dashboard
```tsx
// Personal wellness hub
- Daily mood check-in with animated emoji selector
- Wellness streak calendar (heatmap style)
- Today's micro-practices carousel
- Quick journal entry card
- Upcoming appointments timeline
- Progress rings for goals
```

### 4. Journal & Reflection
```tsx
// Private sanctuary for thoughts
- Rich text editor with mood tagging
- Animated mood history graph
- Word cloud of common themes
- Export to PDF with beautiful formatting
- Daily prompts with typewriter effect
```

### 5. Anonymous Rant Space
```tsx
// Safe venting area
- Masonry layout for rants
- Sentiment-based color coding
- Supportive reactions (hearts, hugs)
- Auto-moderation with gentle warnings
- Refresh animation
```

### 6. Wellbeing Survey System
```tsx
// Clinical-grade assessments
- PHQ-9/GAD-7 integration
- Progressive question flow
- Visual scale selectors
- Anonymous submission confirmation
- Animated progress bar
```

### 7. Therapist Directory & Booking
```tsx
// Professional support access
- Filter sidebar with smooth transitions
- Therapist cards with availability badges
- Calendar integration for booking
- Video call prep checklist
- Rating system with stars
```

### 8. Learning Center
```tsx
// Micro-learning modules
- Video player with custom controls
- Interactive quizzes with feedback
- Progress tracking with certificates
- Course recommendations
- Bookmark functionality
```

### 9. Buddy Matching System
```tsx
// Peer support connections
- Swipe-style matching interface
- Compatibility score visualization
- Anonymous chat initialization
- Icebreaker suggestions
- Match history
```

### 10. Manager Dashboard
```tsx
// Team wellness insights
- Aggregated wellness metrics
- Trend charts (Chart.js)
- Heat map of department wellness
- Action plan builder
- Anonymous feedback viewer
- Export reports feature
```

### 11. Notification System
```tsx
// Gentle reminders
- Web push notifications
- In-app notification center
- Customizable reminder schedule
- Wellness tips of the day
- Achievement celebrations
```

### 12. Guided Micro-Sessions
```tsx
// Quick wellness practices
- 2-minute breathing exercises
- Guided meditation audio player
- Progressive muscle relaxation
- Gratitude prompts
- Mini-challenges
```

## API Endpoints Structure

```javascript
// Authentication
POST /api/auth/register
POST /api/auth/login
POST /api/auth/refresh
POST /api/auth/logout

// User Management
GET /api/users/profile
PUT /api/users/profile
GET /api/users/wellness-score
POST /api/users/mood-checkin

// Organization
POST /api/orgs/create
GET /api/orgs/:id/dashboard
POST /api/orgs/:id/invite
GET /api/orgs/:id/wellness-metrics

// Journals
POST /api/journals
GET /api/journals
PUT /api/journals/:id
DELETE /api/journals/:id
GET /api/journals/insights

// Anonymous Rants
POST /api/rants
GET /api/rants
POST /api/rants/:id/support
POST /api/rants/:id/flag

// Surveys
POST /api/surveys
GET /api/surveys/:id
POST /api/surveys/:id/responses
GET /api/surveys/:id/analytics

// Therapists & Booking
GET /api/therapists
GET /api/therapists/:id
POST /api/therapists/:id/book
GET /api/appointments

// Courses
GET /api/courses
GET /api/courses/:id
POST /api/courses/:id/progress
GET /api/courses/:id/certificate

// Buddy Matching
GET /api/buddies/suggestions
POST /api/buddies/match
PUT /api/buddies/:id/status
GET /api/buddies/matches

// Notifications
GET /api/notifications
PUT /api/notifications/:id/read
POST /api/notifications/preferences

// Micro-sessions
GET /api/sessions/daily
GET /api/sessions/:type
POST /api/sessions/:id/complete
```

## Security & Privacy Implementation

```javascript
// Essential security measures
1. Password hashing: bcrypt with salt rounds = 10
2. JWT tokens with 15min access, 7day refresh
3. Rate limiting: 100 requests per minute
4. Input sanitization for all user content
5. CORS properly configured
6. Environment variables for secrets
7. SQL injection prevention with parameterized queries
8. XSS protection with content security policy
9. Anonymous tokens rotation every 30 days
10. Data encryption for sensitive fields
```

## Performance Optimizations for Replit

```javascript
// Make it fast on free tier
1. Lazy loading for all routes
2. Image optimization (WebP format)
3. Virtual scrolling for long lists
4. Debounced search inputs
5. Memoized expensive computations
6. Service worker for offline mode
7. CDN for static assets
8. Gzip compression
9. Database indexing on frequent queries
10. Caching strategy with 5min TTL
```

## PWA Configuration

```javascript
// manifest.json
{
  "name": "Serene Wellness Platform",
  "short_name": "Serene",
  "theme_color": "#E6E6FA",
  "background_color": "#FAFAFA",
  "display": "standalone",
  "scope": "/",
  "start_url": "/",
  "icons": [
    {
      "src": "/icon-192.png",
      "sizes": "192x192",
      "type": "image/png"
    },
    {
      "src": "/icon-512.png",
      "sizes": "512x512",
      "type": "image/png"
    }
  ]
}
```

## Quick Start Commands for Replit

```bash
# Initial setup
npm init -y
npm install express sqlite3 bcrypt jsonwebtoken cors dotenv
npm install -D typescript @types/node @types/express nodemon
npx create-vite@latest client --template react-ts
cd client && npm install tailwindcss lucide-react framer-motion

# Development
npm run dev

# Build for production
npm run build
```

## Demo Data for Ideas Festival

```javascript
// Seed data for impressive demo
- 3 sample organizations with varying wellness scores
- 50 sample employees with diverse profiles
- 100 journal entries showing mood progression
- 20 anonymous rants with different sentiments
- 5 therapist profiles with availability
- 3 complete courses with modules
- Survey responses showing improvement trends
- Buddy matches with high compatibility scores
```

## Unique Selling Points to Highlight

1. **Privacy-First**: Anonymous modes, encrypted data, no tracking
2. **Clinical-Grade**: Validated assessment tools (PHQ-9, GAD-7)
3. **Beautiful UX**: Serene, calming interface that reduces anxiety
4. **All-in-One**: Complete wellness ecosystem in one platform
5. **Real-Time**: Live wellness metrics and instant support
6. **Inclusive**: Multi-language support, accessibility features
7. **Science-Based**: Evidence-based interventions and practices
8. **Community**: Peer support without compromising privacy

## Festival Presentation Flow

1. **Hook**: Start with breathing animation on landing page
2. **Problem**: Show statistics on workplace mental health
3. **Solution**: Live demo of user journey from sign-up to wellness improvement
4. **Manager View**: Show aggregated insights without privacy breach
5. **Impact**: Display mock improvement metrics over time
6. **Call-to-Action**: QR code for instant demo access

## Additional Polish for Demo

- Loading states with skeleton screens
- Success animations (confetti for achievements)
- Empty states with helpful illustrations
- Error boundaries with friendly messages
- Tooltips for first-time users
- Keyboard shortcuts for power users
- Dark mode toggle with smooth transition
- Multi-language support (at least 2 languages)
- Responsive design for all screen sizes
- Print-friendly journal exports

Remember: Focus on creating a FEELING of wellness through the UI - every interaction should feel calming, supportive, and encouraging.